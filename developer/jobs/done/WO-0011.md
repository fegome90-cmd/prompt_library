# WO-0011: Memoizar allTags con dependencias correctas

## Metadatos
| Campo | Valor |
|-------|-------|
| id | WO-0011 |
| title | Memoizar allTags con dependencias correctas |
| type | perf |
| priority | P3 |
| area | FE |
| status |  Pending |

## Rationale
Hallazgo LOW: useMemo sin dependencias correctas. allTags recalculado en cada render, degrada performance con muchos prompts.

## Scope

### Include
- `src/components/prompt-manager/floating-sidebar.tsx`

### Exclude
- No modificar store
- No cambiar l贸gica de filtrado

## Dependencies
Ninguna

## Acceptance Criteria
- [ ] allTags solo se recalcula cuando cambia prompts
- [ ] React DevTools muestra memoizaci贸n correcta
- [ ] No hay recalculos innecesarios en re-renders

## Definition of Done

### Tests
- [ ] Test visual: cambiar otro estado no recalcula allTags

### Security
- N/A

### Observability
- N/A

### Docs
- [ ] Comentario explicando dependencias

### Evidence
- [ ] Screenshot de React DevTools mostrando memoizaci贸n
- [ ] Diff del cambio

## Verify

### Commands
```bash
# Lint
bun run lint
```

### Expected
- Lint pasa
- No hay warnings de dependencias en consola

## Risk

### Failure Modes
- allTags no se actualiza cuando deber铆a
- Dependencias faltantes causan stale data

### Rollback
```bash
git revert <commit-hash>
```

## Notes
**VERIFICACIN PREVIA:**
El c贸digo actual parece ya tener useMemo correcto:
```typescript
const allTags = useMemo(() => extractAllTags(prompts), [prompts]);
```

Si ya est谩 correcto, este WO es solo verificaci贸n y documentaci贸n.

## Implementaci贸n Sugerida

```typescript
// Si el c贸digo actual es incorrecto:
// ANTES (problem谩tico):
const allTags = useMemo(() => extractAllTags(prompts), []); // Sin dependencias

// DESPUS (correcto):
const allTags = useMemo(() => extractAllTags(prompts), [prompts]);

// Con documentaci贸n:
/**
 * Extrae todos los tags 煤nicos de los prompts.
 * Solo se recalcula cuando cambia la lista de prompts.
 */
const allTags = useMemo(() => extractAllTags(prompts), [prompts]);
```

## Checklist de Verificaci贸n
- [ ] Verificar c贸digo actual en floating-sidebar.tsx
- [ ] Si ya est谩 correcto, marcar como Done con documentaci贸n
- [ ] Si est谩 incorrecto, aplicar fix

## Log de Cambios
| Fecha | Estado | Notas |
|-------|--------|-------|
| - |  Pending | Creado |
